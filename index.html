<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§ï‡§≤‡•ç‡§™‡§¶‡•ç‡§∞‡•Ç‡§Æ</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#111111">
    
    <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

    <style>
        /* --- 1. ‡§µ‡•ç‡§π‡•á‡§∞‡§ø‡§è‡§¨‡§≤‡•ç‡§∏ ‡§Ü‡§£‡§ø ‡§•‡•Ä‡§Æ --- */
        :root {
            --bg-image-light: url('https://images.unsplash.com/photo-1717620380098-9d3a0f5470ac?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            --bg-image-dark: url('https://images.unsplash.com/photo-1615570994550-d8e21ca26c31?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
            --glass-bg-light: rgba(255, 255, 255, 0.15);
            --glass-border-light: rgba(255, 255, 255, 0.2);
            --text-color: #ffffff;
            --glass-bg-dark: rgba(0, 0, 0, 0.15);
            --glass-border-dark: rgba(255, 255, 255, 0.1);
            --blur-amount: 15px;
            --highlight-color: #00bcd4;
            --progress-bar-bg: rgba(255, 255, 255, 0.2);
            --progress-bar-fill: var(--highlight-color);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            min-height: 100vh; padding: 1.5rem; color: var(--text-color);
            background-image: var(--bg-image-light);
            background-size: cover; background-position: center;
            background-attachment: fixed; transition: background-image 0.7s ease-in-out;
        }
        body[data-theme="dark"] { background-image: var(--bg-image-dark); }
        .container { max-width: 800px; margin: 0 auto; text-align: center; }
        header h1 { font-size: 2.2rem; margin-bottom: 1rem; text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5); }
        .subtitle {
            font-size: 0.9rem; line-height: 1.6; padding: 1rem;
            margin: 0 auto 2rem auto; max-width: 600px; text-align: center;
            font-style: italic; opacity: 0.9;
        }

        /* --- 3. Glass UI --- */
        .glass-ui {
            background: var(--glass-bg-light);
            backdrop-filter: blur(var(--blur-amount));
            -webkit-backdrop-filter: blur(var(--blur-amount));
            border: 1px solid var(--glass-border-light);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: background 0.3s ease, border 0.3s ease;
        }
        body[data-theme="dark"] .glass-ui {
            background: var(--glass-bg-dark);
            border: 1px solid var(--glass-border-dark);
        }

        /* --- 4. ‡§°‡•á/‡§®‡§æ‡§à‡§ü ‡§ü‡•â‡§ó‡§≤ --- */
        .theme-switch-wrapper { display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; }
        .theme-switch { display: inline-block; height: 34px; position: relative; width: 60px; }
        .theme-switch input { display: none; }
        .slider { background-color: #555; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 34px; }
        .slider:before { content: 'üåô'; font-size: 18px; line-height: 26px; text-align: center; background-color: #fff; bottom: 4px; height: 26px; left: 4px; position: absolute; transition: .4s; width: 26px; border-radius: 50%; }
        input:checked + .slider { background-color: #ccc; }
        input:checked + .slider:before { content: '‚òÄÔ∏è'; transform: translateX(26px); }

        /* --- 5. ‡§µ‡•ç‡§π‡•ç‡§Ø‡•Ç ‡§ü‡•â‡§ó‡§≤ --- */
        .view-toggle { display: flex; justify-content: center; padding: 0.5rem; margin: 0 auto 1.5rem auto; width: fit-content; }
        .view-toggle button { background: transparent; border: none; color: var(--text-color); font-size: 1.5rem; padding: 0.25rem 1rem; cursor: pointer; opacity: 0.5; transition: opacity 0.2s ease, transform 0.2s ease; }
        .view-toggle button.active { opacity: 1; transform: scale(1.1); }
        .view-toggle button:hover { opacity: 0.8; }

        /* --- 6. ‡§∏‡§∞‡•ç‡§ö ‡§¨‡§æ‡§∞ --- */
        .search-wrapper { position: relative; }
        #search-bar { width: 100%; padding: 1rem; font-size: 1rem; border: none; outline: none; color: var(--text-color); margin-bottom: 1.5rem; }
        #search-bar::placeholder { color: rgba(255, 255, 255, 0.7); }
        .cmd-tip { position: absolute; right: 1rem; top: 0.9rem; font-size: 0.8rem; background: rgba(0,0,0,0.2); padding: 0.2rem 0.5rem; border-radius: 6px; pointer-events: none; opacity: 0.7; }
        
        /* --- 7. ‡§®‡§µ‡•Ä‡§®: ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡•á‡§∏ ‡§¨‡§æ‡§∞ (Item 4) --- */
        #progress-container {
            width: 100%;
            margin-bottom: 1.5rem;
            text-align: left;
            padding: 0 0.5rem;
        }
        #progress-label {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }
        #progress-bar-bg {
            width: 100%;
            height: 8px;
            background: var(--progress-bar-bg);
            border-radius: 4px;
            overflow: hidden;
        }
        #progress-bar {
            height: 100%;
            width: 0%; /* JS ‡§π‡•á ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§≤ */
            background: var(--progress-bar-fill);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        /* --- 8. ‡§®‡§µ‡•Ä‡§®: ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞‡•ç‡§∏ (Item 4) --- */
        .filter-toggle {
            display: flex;
            justify-content: center;
            padding: 0.5rem;
            margin: 0 auto 1.5rem auto;
            width: fit-content;
        }
        .filter-toggle button {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            opacity: 0.6;
            transition: opacity 0.2s ease;
            border-radius: 12px;
        }
        .filter-toggle button.active {
            opacity: 1;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.1);
        }

        /* --- 9. ‡§ï‡•Ö‡§ü‡•á‡§ó‡§∞‡•Ä ‡§Ü‡§£‡§ø ‡§ï‡§æ‡§∞‡•ç‡§°‡•ç‡§∏ --- */
        .category-section { margin-bottom: 2.5rem; text-align: left; }
        .category-title { font-size: 1.5rem; padding: 0.75rem 1.25rem; margin-bottom: 1.5rem; display: inline-block; }
        .category-list { list-style: none; }
        .category-list li {
            padding: 1.25rem; cursor: pointer; margin-bottom: 1.5rem;
            position: relative;
            /* ‡§â‡§≠‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§∞‡•ç‡§°‡§∏‡§æ‡§†‡•Ä */
            width: 250px;
            min-height: 350px;
            background-size: cover; background-position: center;
            display: flex; flex-direction: column;
            justify-content: flex-end; /* ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§ñ‡§æ‡§≤‡•Ä */
            overflow: hidden;
            transition: transform 0.3s ease, background 0.2s ease, box-shadow 0.3s ease;
            transform-style: preserve-3d;
        }
        .category-list li:hover {
            transform: scale(1.03) perspective(1000px) rotateX(2deg) rotateY(3deg);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        .category-list li::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5); z-index: 1; border-radius: 16px;
            transition: background 0.3s ease;
        }
        .category-list li:hover::before { background: rgba(0, 0, 0, 0.3); }
        
        .card-content { position: relative; z-index: 2; padding: 1rem; text-align: center; }
        .card-content h2, .card-content p { text-shadow: 0 1px 3px rgba(0,0,0,0.8); }
        .card-content h2 { font-size: 1.5rem; margin-bottom: 0.25rem; }
        .card-content p { font-size: 0.9rem; opacity: 0.9; }

        .card-actions { position: absolute; z-index: 2; top: 0.75rem; right: 0.75rem; display: flex; gap: 0.5rem; }
        .card-action-btn { background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); color: white; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; transition: background 0.2s ease, transform 0.2s ease; backdrop-filter: blur(5px); }
        .card-action-btn:hover { background: rgba(0, 0, 0, 0.5); transform: scale(1.1); }
        .read-toggle.read { background: var(--highlight-color); color: #111; }
        
        /* ‡§µ‡•ç‡§π‡•ç‡§Ø‡•Ç 1: ‡§ó‡•ç‡§∞‡§ø‡§° (Grid) */
        .category-list.view-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; justify-content: center; }
        .category-list.view-grid li { margin-bottom: 0; width: auto; }
        /* ‡§µ‡•ç‡§π‡•ç‡§Ø‡•Ç 2: ‡§≤‡§ø‡§∏‡•ç‡§ü (List) */
        .category-list.view-list { display: flex; flex-direction: column; gap: 1rem; align-items: center; }
        .category-list.view-list li { width: 80%; max-width: 350px; margin-bottom: 0; min-height: 200px; }
        /* ‡§µ‡•ç‡§π‡•ç‡§Ø‡•Ç 3: ‡§∞‡•ã (Row / Horizontal) */
        .category-list.view-horizontal { display: flex; overflow-x: auto; white-space: nowrap; gap: 1.5rem; padding: 0.5rem 0.25rem 1.5rem 0.25rem; -ms-overflow-style: none; scrollbar-width: none; }
        .category-list.view-horizontal::-webkit-scrollbar { display: none; }
        .category-list.view-horizontal li { width: 250px; flex-shrink: 0; display: inline-block; margin-bottom: 0; min-height: 350px; }
        #recently-viewed-list li { min-height: 250px; width: 200px; }
        #recently-viewed-list .card-content h2 { font-size: 1.1rem; }
        
        /* --- 10. ‡§®‡§µ‡•Ä‡§®: ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§ï‡•á‡§≤‡•á‡§ü‡§® (Item 3) --- */
        .skeleton {
            background: var(--glass-bg-dark);
            border: 1px solid var(--glass-border-dark);
            position: relative;
            overflow: hidden;
        }
        .skeleton::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            animation: shimmer 1.5s infinite linear;
        }
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* --- 11. ‡§®‡§µ‡•Ä‡§®: "No Results" ‡§Æ‡•á‡§∏‡•á‡§ú (Item 3) --- */
        #no-results {
            display: none; /* JS ‡§π‡•á ‡§¶‡§æ‡§ñ‡§µ‡•á‡§≤ */
            padding: 3rem 1rem;
            color: var(--text-color);
            opacity: 0.8;
            text-align: center;
        }

        /* --- 12. Modal --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(var(--blur-amount)); -webkit-backdrop-filter: blur(var(--blur-amount)); display: none; align-items: center; justify-content: center; z-index: 1000; opacity: 0; transition: opacity 0.3s ease; }
        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-overlay iframe { width: 95vw; height: 95vh; border: 1px solid var(--glass-border-light); border-radius: 10px; background: #fff; transform: scale(0.95); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease; }
        .modal-overlay.active iframe { transform: scale(1); opacity: 1; }
        .close-button { position: absolute; top: 20px; right: 30px; font-size: 2.5rem; font-weight: bold; color: white; background: transparent; border: none; cursor: pointer; z-index: 1001; text-shadow: 0 1px 3px rgba(0,0,0,0.7); transition: transform 0.2s ease; }
        .close-button:hover { transform: scale(1.1); }

        /* --- 13. ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§™‡•Ö‡§≤‡•á‡§ü --- */
        #command-palette-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(var(--blur-amount)); -webkit-backdrop-filter: blur(var(--blur-amount)); z-index: 2000; display: none; opacity: 0; transition: opacity 0.2s ease-in-out; }
        #command-palette-overlay.active { display: block; opacity: 1; }
        #command-palette { position: absolute; top: 20vh; left: 50%; transform: translateX(-50%); width: 90%; max-width: 500px; background: var(--glass-bg-dark); border: 1px solid var(--glass-border-dark); border-radius: 12px; box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3); overflow: hidden; transition: transform 0.2s ease-out; }
        #command-palette-overlay.active #command-palette { transform: translateX(-50%) scale(1); }
        #cmd-input { width: 100%; padding: 1rem; font-size: 1.1rem; background: transparent; border: none; border-bottom: 1px solid var(--glass-border-dark); color: var(--text-color); outline: none; }
        #cmd-results { list-style: none; max-height: 300px; overflow-y: auto; }
        #cmd-results li { padding: 0.75rem 1rem; cursor: pointer; text-align: left; border-bottom: 1px solid var(--glass-border-dark); transition: background 0.2s ease; }
        #cmd-results li:last-child { border-bottom: none; }
        #cmd-results li:hover, #cmd-results li.selected { background: rgba(255, 255, 255, 0.1); }
        #cmd-results li small { opacity: 0.7; margin-left: 0.5rem; font-size: 0.8rem; }
        
        /* --- 14. ‡§®‡§µ‡•Ä‡§®: ‡§ü‡•ã‡§∏‡•ç‡§ü ‡§®‡•ã‡§ü‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§® (Item 3) --- */
        #toast {
            position: fixed;
            bottom: -100px; /* ‡§∏‡•Å‡§∞‡•Å‡§µ‡§æ‡§§‡•Ä‡§≤‡§æ ‡§≤‡§™‡§≤‡•á‡§≤‡•á */
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            background: var(--glass-bg-dark);
            border: 1px solid var(--glass-border-dark);
            color: var(--text-color);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            z-index: 3000;
            transition: bottom 0.5s ease-in-out;
        }
        #toast.show {
            bottom: 30px;
        }
    </style>
</head>
<body data-theme="dark">
    
    <div class="container">
        <header>
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="theme-toggle">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
            </div>
            <h1>‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§ï‡§≤‡•ç‡§™‡§¶‡•ç‡§∞‡•Ç‡§Æ</h1>
            
            <p class="subtitle glass-ui">
                ‡§∂‡•ç‡§∞‡•Ä‡§ï‡•É‡§∑‡•ç‡§£‡§∞‡§æ‡§µ‡•ã ‡§Æ‡•ç‡§π‡§£‡•á ‡§â‡§¶‡•ç‡§ß‡§µ‡§¶‡•á‡§µ‡§æ : ‡§π‡§æ ‡§ú‡•ç‡§û‡§æ‡§®‡§∞‡§§‡•ç‡§®‡§æ‡§ö‡§æ ‡§†‡•á‡§µ‡§æ :<br>
                ‡§≠‡§≤‡•á‡§§‡§Ø‡§æ ‡§π‡§æ‡§§‡•Ä‡§Ç ‡§®‡•á‡§¶‡§æ‡§µ‡§æ : ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡•á‡§Ç‡§µ‡•Ä‡§£ ‡•§‡•§<br>
                ‡§π‡•á ‡§ú‡•ç‡§û‡§æ‡§®‡§∏‡•Å‡§ß‡§æ ‡§ó‡•ã‡§Æ‡§ü‡•Ä : ‡§ú‡•á ‡§™‡§æ‡§® ‡§ï‡§∞‡•Ä‡§§‡§ø ‡§ï‡§∞‡•ç‡§£‡§™‡•Å‡§ü‡•Ä‡§Ç :<br>
                ‡§§‡§Ø‡§æ‡§Ç ‡§ï‡§π‡§ø‡§Ç ‡§®‡§æ‡§π‡§ø‡§Ç ‡§ï‡§æ‡§Æ‡§æ‡§†‡•Ä : ‡§ú‡§®‡•ç‡§Æ‡§Æ‡§∞‡§£‡§æ‡§ö‡•Ä ‡•§‡•§(‡§∂‡•ç‡§∞‡•Ä‡§â‡§¶‡•ç‡§ß‡§µ‡§ó‡•Ä‡§§‡§æ)<br>
            </p>
        </header>

        <main>
            
            <div id="progress-container" class="glass-ui">
                <div id="progress-label">0/0 ‡§™‡•Ç‡§∞‡•ç‡§£</div>
                <div id="progress-bar-bg">
                    <div id="progress-bar"></div>
                </div>
            </div>

            <div class="view-toggle glass-ui">
                <button id="view-grid" class="active" title="Grid View">&#9638;</button>
                <button id="view-list" title="List View">&#9776;</button>
                <button id="view-horizontal" title="Row View">&#8596;</button>
            </div>

            <div class="search-wrapper">
                <input type="search" id="search-bar" class="glass-ui" placeholder="‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü ‡§∂‡•ã‡§ß‡§æ... (‡§â‡§¶‡§æ. 'gita', 'tool')">
                <span class="cmd-tip">Cmd+K</span>
            </div>
            
            <div class="filter-toggle glass-ui">
                <button id="filter-all" class="active" data-filter="all">‡§∏‡§∞‡•ç‡§µ</button>
                <button id="filter-read" data-filter="read">‡§µ‡§æ‡§ö‡§≤‡•á‡§≤‡•á</button>
                <button id="filter-unread" data-filter="unread">‡§® ‡§µ‡§æ‡§ö‡§≤‡•á‡§≤‡•á</button>
            </div>
            
            <div id="no-results">
                <h2>¬Ø\_(„ÉÑ)_/¬Ø</h2>
                <p>‡§§‡•Å‡§Æ‡§ö‡§æ ‡§∂‡•ã‡§ß ‡§ú‡•Å‡§≥‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.</p>
            </div>

            <div id="categories-container">
                <section class="category-section">
                    <h2 class="category-title glass-ui skeleton" style="width: 250px; height: 50px;"></h2>
                    <ul class="category-list view-grid">
                        <li class="glass-ui skeleton" style="width: 250px; min-height: 350px;"></li>
                        <li class="glass-ui skeleton" style="width: 250px; min-height: 350px;"></li>
                        <li class="glass-ui skeleton" style="width: 250px; min-height: 350px;"></li>
                    </ul>
                </section>
            </div>

            <div id="recently-viewed-container"></div>
            
        </main>
    </div>

    <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true">
        <button class="close-button" id="closeModal" aria-label="Close modal">&times;</button>
        <iframe id="projectFrame" src="" frameborder="0" allowfullscreen></iframe>
    </div>

    <div id="command-palette-overlay">
        <div id="command-palette" role="dialog">
            <input type="text" id="cmd-input" placeholder="‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ü‡§æ‡§à‡§™ ‡§ï‡§∞‡§æ... (‡§â‡§¶‡§æ. 'open gita')">
            <ul id="cmd-results"></ul>
        </div>
    </div>
    
    <div id="toast"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 0. ‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§µ‡•ç‡§π‡•á‡§∞‡§ø‡§è‡§¨‡§≤‡•ç‡§∏ ---
            let allProjects = []; // JSON ‡§Æ‡§ß‡•Ç‡§® ‡§Ü‡§≤‡•á‡§≤‡•á ‡§∏‡§∞‡•ç‡§µ ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏
            let fuse; // Fuzzy Search ‡§∏‡§æ‡§†‡•Ä
            let readStatus = {}; // ‡§µ‡§æ‡§ö‡§≤‡•á‡§≤‡•á ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ (Item 13)
            let recentlyViewed = []; // (Item 14)
            let currentFilter = 'all'; // (Item 4)
            let currentView = 'view-grid'; // (Item 3)
            let toastTimer; // (Item 3)

            const dom = {
                categoriesContainer: document.getElementById('categories-container'),
                recentlyViewedContainer: document.getElementById('recently-viewed-container'),
                noResults: document.getElementById('no-results'),
                searchBar: document.getElementById('search-bar'),
                themeToggle: document.getElementById('theme-toggle'),
                viewToggleButtons: document.querySelectorAll('.view-toggle button'),
                filterToggleButtons: document.querySelectorAll('.filter-toggle button'),
                modal: {
                    overlay: document.getElementById('modalOverlay'),
                    frame: document.getElementById('projectFrame'),
                    closeBtn: document.getElementById('closeModal')
                },
                palette: {
                    overlay: document.getElementById('command-palette-overlay'),
                    input: document.getElementById('cmd-input'),
                    results: document.getElementById('cmd-results')
                },
                progress: {
                    label: document.getElementById('progress-label'),
                    bar: document.getElementById('progress-bar')
                },
                toast: document.getElementById('toast')
            };

            // --- 1. PWA (Item 1) - ‡§∏‡§∞‡•ç‡§µ‡•ç‡§π‡§ø‡§∏ ‡§µ‡§∞‡•ç‡§ï‡§∞ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡§£‡•á ---
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => console.log('Service Worker Registered:', registration))
                    .catch(error => console.log('Service Worker Registration Failed:', error));
            }
            
            // --- 2. ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§á‡§®‡§ø‡§∂‡§ø‡§è‡§≤‡§æ‡§Ø‡§ù‡•á‡§∂‡§® ---
            async function initializeApp() {
                loadPreferences(); // ‡§ú‡•Å‡§®‡•ç‡§Ø‡§æ ‡§™‡§∏‡§Ç‡§§‡•Ä ‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•á
                await loadData(); // JSON ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•á
                setupEventListeners();
                renderAllContent(); // ‡§∏‡§∞‡•ç‡§µ‡§ï‡§æ‡§π‡•Ä ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§£‡•á
            }

            // --- 3. ‡§™‡§∏‡§Ç‡§§‡•Ä ‡§≤‡•ã‡§°/‡§∏‡•á‡§µ‡•ç‡§π ‡§ï‡§∞‡§£‡•á (Item 3) ---
            function loadPreferences() {
                const currentTheme = localStorage.getItem('theme') || 'dark';
                const isLight = (currentTheme === 'light');
                document.body.dataset.theme = currentTheme;
                dom.themeToggle.checked = isLight;
                
                currentView = localStorage.getItem('view') || 'view-grid';
                applyView(currentView);

                readStatus = JSON.parse(localStorage.getItem('readStatus')) || {};
                recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed')) || [];
            }

            // --- 4. JSON ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•á (Item 16) ---
            async function loadData() {
                try {
                    const response = await fetch('projects.json');
                    allProjects = await response.json();
                    
                    // Fuzzy Search (Item 7) - 'tags' ‡§™‡§£ ‡§∏‡§∞‡•ç‡§ö ‡§ï‡§∞‡•á‡§≤!
                    const options = {
                        keys: ['title', 'description', 'id', 'tags'],
                        threshold: 0.3,
                    };
                    fuse = new Fuse(allProjects, options);
                    
                } catch (error) {
                    console.error('Error loading projects:', error);
                    dom.categoriesContainer.innerHTML = '<h2 style="text-align: center;">‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ö‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä.</h2>';
                }
            }

            // --- 5. ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® ---
            // ‡§π‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§® ‡§Ü‡§§‡§æ ‡§∏‡§∞‡•ç‡§µ‡§ï‡§æ‡§π‡•Ä ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§§‡•ã: ‡§ï‡•Ö‡§ü‡•á‡§ó‡§∞‡•Ä, ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞‡•ç‡§∏, ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡•á‡§∏
            function renderAllContent(searchQuery = '') {
                dom.categoriesContainer.innerHTML = ''; // ‡§∏‡•ç‡§ï‡•á‡§≤‡•á‡§ü‡§®‡•ç‡§∏/‡§ú‡•Å‡§®‡§æ ‡§°‡•á‡§ü‡§æ ‡§∏‡§æ‡§´ ‡§ï‡§∞‡§£‡•á
                dom.noResults.style.display = 'none';

                let projectsToRender = [];

                // 1. ‡§∏‡§∞‡•ç‡§ö ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ (Fuzzy Search)
                if (searchQuery) {
                    projectsToRender = fuse.search(searchQuery).map(result => result.item);
                } else {
                    projectsToRender = allProjects;
                }
                
                // 2. '‡§µ‡§æ‡§ö‡§≤‡•á‡§≤‡•á' ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ (Item 4)
                if (currentFilter === 'read') {
                    projectsToRender = projectsToRender.filter(p => readStatus[p.id]);
                } else if (currentFilter === 'unread') {
                    projectsToRender = projectsToRender.filter(p => !readStatus[p.id]);
                }
                
                // 3. ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏‡§®‡§æ ‡§ï‡•Ö‡§ü‡•á‡§ó‡§∞‡•Ä‡§®‡•Å‡§∏‡§æ‡§∞ ‡§ó‡•ç‡§∞‡•Å‡§™ ‡§ï‡§∞‡§£‡•á (Item 2)
                const projectsByCategory = projectsToRender.reduce((acc, project) => {
                    const category = project.category || 'Other';
                    if (!acc[category]) {
                        acc[category] = [];
                    }
                    acc[category].push(project);
                    return acc;
                }, {});

                // 4. ‡§°‡§æ‡§Ø‡§®‡•Ö‡§Æ‡§ø‡§ï ‡§ï‡•Ö‡§ü‡•á‡§ó‡§∞‡•Ä ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§£‡•á (Item 2)
                const categoryNames = Object.keys(projectsByCategory);
                if (categoryNames.length === 0) {
                    // "No Results" ‡§Æ‡•á‡§∏‡•á‡§ú (Item 3)
                    dom.noResults.style.display = 'block';
                    dom.noResults.querySelector('p').textContent = searchQuery 
                        ? `‡§§‡•Å‡§Æ‡§ö‡§æ ‡§∂‡•ã‡§ß '${searchQuery}' ‡§ú‡•Å‡§≥‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.` 
                        : `‡§Ø‡§æ ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§®‡§æ‡§π‡•Ä‡§§.`;
                } else {
                    categoryNames.forEach(categoryName => {
                        const section = document.createElement('section');
                        section.className = 'category-section';
                        
                        section.innerHTML = `
                            <h2 class="category-title glass-ui">${categoryName}</h2>
                            <ul class="category-list ${currentView}"></ul>
                        `;
                        
                        const list = section.querySelector('ul');
                        projectsByCategory[categoryName].forEach(project => {
                            list.appendChild(createProjectCard(project));
                        });
                        
                        dom.categoriesContainer.appendChild(section);
                    });
                }
                
                // 5. '‡§Ö‡§≤‡•Ä‡§ï‡§°‡•á ‡§™‡§æ‡§π‡§ø‡§≤‡•á‡§≤‡•á' ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§£‡•á (Item 14)
                renderRecentlyViewed();
                
                // 6. ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡•á‡§∏ ‡§¨‡§æ‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§£‡•á (Item 4)
                updateProgress();
            }

            // --- 6. ‡§è‡§ï ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü ‡§ï‡§æ‡§∞‡•ç‡§° ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§£‡•á ---
            function createProjectCard(project) {
                const li = document.createElement('li');
                li.className = 'glass-ui';
                li.dataset.url = project.url;
                li.dataset.id = project.id;
                li.style.backgroundImage = `url('${project.image}')`;
                li.tabIndex = 0;

                const isRead = !!readStatus[project.id]; // (Item 13)

                li.innerHTML = `
                    <div class="card-actions">
                        <button class="card-action-btn share-btn" title="Share">&#10148;</button>
                        <button class="card-action-btn read-toggle ${isRead ? 'read' : ''}" title="Mark as Read">
                            ${isRead ? '&#10003;' : '&#9711;'}
                        </button>
                    </div>
                    <div class="card-content">
                        <h2>${project.title}</h2>
                        <p>${project.description}</p>
                    </div>
                `;

                // ‡§á‡§µ‡•ç‡§π‡•á‡§Ç‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü‡§®‡§∞‡•ç‡§∏
                li.addEventListener('click', (e) => {
                    if (e.target.closest('.card-action-btn')) return;
                    openModal(project);
                });
                li.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.target.closest('.card-action-btn')) {
                        openModal(project);
                    }
                });
                li.querySelector('.share-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    shareProject(project.title, project.url);
                });
                li.querySelector('.read-toggle').addEventListener('click', (e) => {
                    e.stopPropagation();
                    toggleReadStatus(project.id, e.currentTarget);
                });

                return li;
            }

            // --- 7. ‡§∏‡§∞‡•ç‡§µ ‡§á‡§µ‡•ç‡§π‡•á‡§Ç‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü‡§®‡§∞‡•ç‡§∏ ‡§∏‡•á‡§ü‡§Ö‡§™ ---
            function setupEventListeners() {
                dom.themeToggle.addEventListener('change', () => {
                    const newTheme = dom.themeToggle.checked ? 'light' : 'dark';
                    document.body.dataset.theme = newTheme;
                    localStorage.setItem('theme', newTheme);
                });

                dom.viewToggleButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        currentView = button.id;
                        applyView(currentView);
                        localStorage.setItem('view', currentView);
                    });
                });
                
                // ‡§®‡§µ‡•Ä‡§®: ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§¨‡§ü‡§£‡•á (Item 4)
                dom.filterToggleButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        currentFilter = button.dataset.filter;
                        dom.filterToggleButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        renderAllContent(dom.searchBar.value); // ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞‡§∏‡§π ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§æ
                    });
                });

                dom.modal.closeBtn.addEventListener('click', closeModal);
                dom.modal.overlay.addEventListener('click', (e) => {
                    if (e.target === dom.modal.overlay) closeModal();
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        if (dom.modal.overlay.classList.contains('active')) closeModal();
                        if (dom.palette.overlay.classList.contains('active')) closeCommandPalette();
                    }
                    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                        e.preventDefault();
                        openCommandPalette();
                    }
                });

                // ‡§∏‡§∞‡•ç‡§ö ‡§¨‡§æ‡§∞ (Debounced)
                let searchTimer;
                dom.searchBar.addEventListener('input', () => {
                    clearTimeout(searchTimer);
                    searchTimer = setTimeout(() => {
                        renderAllContent(dom.searchBar.value);
                    }, 200); // 200ms ‡§®‡§Ç‡§§‡§∞ ‡§∏‡§∞‡•ç‡§ö ‡§ï‡§∞‡§æ
                });

                dom.palette.overlay.addEventListener('click', (e) => {
                    if (e.target === dom.palette.overlay) closeCommandPalette();
                });
                dom.palette.input.addEventListener('input', handleCommandInput);
            }
            
            // --- 8. ‡§µ‡•ç‡§π‡•ç‡§Ø‡•Ç ‡§ü‡•â‡§ó‡§≤ ‡§≤‡•â‡§ú‡§ø‡§ï (Item 3) ---
            function applyView(viewClass) {
                dom.viewToggleButtons.forEach(btn => btn.classList.remove('active'));
                document.getElementById(viewClass)?.classList.add('active');
                // ‡§®‡§µ‡•Ä‡§®: ‡§Ü‡§§‡§æ ‡§π‡•á ‡§°‡§æ‡§Ø‡§®‡•Ö‡§Æ‡§ø‡§ï‡§≤‡•Ä ‡§§‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§£‡§æ‡§±‡•ç‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ ‡§≤‡§ø‡§∏‡•ç‡§ü‡§µ‡§∞ ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•ã‡§à‡§≤
                document.querySelectorAll('.category-list').forEach(list => {
                    list.classList.remove('view-grid', 'view-list', 'view-horizontal');
                    list.classList.add(viewClass);
                });
            }

            // --- 9. Modal ‡§≤‡•â‡§ú‡§ø‡§ï ---
            function openModal(project) {
                if (project && project.url) {
                    dom.modal.frame.src = project.url;
                    dom.modal.overlay.classList.add('active');
                    addToRecentlyViewed(project.id);
                }
            }
            function closeModal() {
                dom.modal.overlay.classList.remove('active');
                dom.modal.frame.src = '';
            }

            // --- 10. ‡§∂‡•á‡§Ö‡§∞ ‡§≤‡•â‡§ú‡§ø‡§ï (Item 15) + ‡§ü‡•ã‡§∏‡•ç‡§ü (Item 3) ---
            function shareProject(title, url) {
                if (navigator.share) {
                    navigator.share({
                        title: title,
                        text: `‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§ï‡§≤‡•ç‡§™‡§¶‡•ç‡§∞‡•Ç‡§Æ ‡§Æ‡§ß‡•Ç‡§® ${title} ‡§™‡§π‡§æ:`,
                        url: url
                    }).catch(error => console.log('Error sharing:', error));
                } else {
                    navigator.clipboard.writeText(url);
                    showToast('‡§≤‡§ø‡§Ç‡§ï ‡§ï‡•ç‡§≤‡§ø‡§™‡§¨‡•ã‡§∞‡•ç‡§°‡§µ‡§∞ ‡§ï‡•â‡§™‡•Ä ‡§ù‡§æ‡§≤‡•Ä ‚úÖ');
                }
            }
            
            // ‡§®‡§µ‡•Ä‡§®: ‡§ü‡•ã‡§∏‡•ç‡§ü ‡§®‡•ã‡§ü‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§® (Item 3)
            function showToast(message) {
                clearTimeout(toastTimer); // ‡§ú‡•Å‡§®‡§æ ‡§ü‡§æ‡§Ø‡§Æ‡§∞ (‡§ú‡§∞ ‡§Ö‡§∏‡•á‡§≤ ‡§§‡§∞) ‡§ï‡•ç‡§≤‡§ø‡§Ö‡§∞ ‡§ï‡§∞‡§æ
                dom.toast.textContent = message;
                dom.toast.classList.add('show');
                toastTimer = setTimeout(() => {
                    dom.toast.classList.remove('show');
                }, 3000); // 3 ‡§∏‡•á‡§ï‡§Ç‡§¶‡§æ‡§§ ‡§≤‡§™‡§µ‡§æ
            }

            // --- 11. '‡§µ‡§æ‡§ö‡§≤‡•á' ‡§≤‡•â‡§ú‡§ø‡§ï (Item 13 & 4) ---
            function toggleReadStatus(id, button) {
                const isNowRead = !readStatus[id];
                if (isNowRead) {
                    readStatus[id] = true;
                } else {
                    delete readStatus[id]; // ‡§ú‡§æ‡§ó‡§æ ‡§µ‡§æ‡§ö‡§µ‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä 'false' ‡§ê‡§µ‡§ú‡•Ä ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§æ
                }
                localStorage.setItem('readStatus', JSON.stringify(readStatus));

                // ‡§¨‡§ü‡§£ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ
                button.classList.toggle('read', isNowRead);
                button.innerHTML = isNowRead ? '&#10003;' : '&#9711;';
                
                // ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡•á‡§∏ ‡§¨‡§æ‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ
                updateProgress();
                
                // ‡§ú‡§∞ 'read'/'unread' ‡§´‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§ç‡§ï‡•ç‡§ü‡§ø‡§µ‡•ç‡§π ‡§Ö‡§∏‡•á‡§≤, ‡§§‡§∞ ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡§æ
                if (currentFilter !== 'all') {
                    renderAllContent(dom.searchBar.value);
                }
            }
            
            // ‡§®‡§µ‡•Ä‡§®: ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡•á‡§∏ ‡§¨‡§æ‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü (Item 4)
            function updateProgress() {
                const readCount = Object.keys(readStatus).length;
                const totalCount = allProjects.length;
                const percentage = (totalCount > 0) ? (readCount / totalCount) * 100 : 0;
                
                dom.progress.label.textContent = `${readCount}/${totalCount} ‡§™‡•Ç‡§∞‡•ç‡§£`;
                dom.progress.bar.style.width = `${percentage}%`;
            }

            // --- 12. ‡§Ö‡§≤‡•Ä‡§ï‡§°‡•á ‡§™‡§æ‡§π‡§ø‡§≤‡•á‡§≤‡•á (Item 14) ---
            function addToRecentlyViewed(id) {
                recentlyViewed = recentlyViewed.filter(item => item !== id); // ‡§ú‡•Å‡§®‡•Ä ‡§è‡§®‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§ï‡§æ‡§¢‡§æ
                recentlyViewed.unshift(id); // ‡§∏‡§∞‡•ç‡§µ‡§æ‡§§ ‡§µ‡§∞ ‡§ç‡§° ‡§ï‡§∞‡§æ
                if (recentlyViewed.length > 5) {
                    recentlyViewed.pop(); // ‡§´‡§ï‡•ç‡§§ ‡•´ ‡§†‡•á‡§µ‡§æ
                }
                localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));
                renderRecentlyViewed();
            }

            function renderRecentlyViewed() {
                dom.recentlyViewedContainer.innerHTML = ''; // ‡§Ü‡§ß‡•Ä‡§ö‡•á ‡§∏‡§æ‡§´ ‡§ï‡§∞‡§æ
                if (recentlyViewed.length === 0) return;
                
                const section = document.createElement('section');
                section.className = 'category-section';
                section.id = 'recently-viewed-section';
                section.innerHTML = `
                    <h2 class="category-title glass-ui">‡§Ö‡§≤‡•Ä‡§ï‡§°‡•á ‡§™‡§æ‡§π‡§ø‡§≤‡•á‡§≤‡•á</h2>
                    <ul class="category-list view-horizontal" id="recently-viewed-list"></ul>
                `;
                
                const list = section.querySelector('ul');
                recentlyViewed.forEach(id => {
                    const project = allProjects.find(p => p.id === id);
                    if (project) {
                        list.appendChild(createProjectCard(project));
                    }
                });
                
                dom.recentlyViewedContainer.appendChild(section);
            }

            // --- 13. ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§™‡•Ö‡§≤‡•á‡§ü (Item 8) ---
            let commandPaletteActions = [];

            function openCommandPalette() {
                commandPaletteActions = [
                    ...allProjects.map(p => ({
                        name: `Open: ${p.title}`,
                        category: p.category,
                        action: () => openModal(p)
                    })),
                    { name: 'Switch to Light Theme', category: 'Theme', action: () => !dom.themeToggle.checked && dom.themeToggle.click() },
                    { name: 'Switch to Dark Theme', category: 'Theme', action: () => dom.themeToggle.checked && dom.themeToggle.click() },
                    { name: 'Set Grid View', category: 'View', action: () => document.getElementById('view-grid').click() },
                    { name: 'Set List View', category: 'View', action: () => document.getElementById('view-list').click() },
                    { name: 'Show All Projects', category: 'Filter', action: () => document.getElementById('filter-all').click() },
                    { name: 'Show Read Projects', category: 'Filter', action: () => document.getElementById('filter-read').click() },
                    { name: 'Show Unread Projects', category: 'Filter', action: () => document.getElementById('filter-unread').click() },
                ];
                
                dom.palette.overlay.classList.add('active');
                dom.palette.input.focus();
                renderCommandResults(commandPaletteActions);
            }

            function closeCommandPalette() {
                dom.palette.overlay.classList.remove('active');
                dom.palette.input.value = '';
            }

            function handleCommandInput() {
                const query = dom.palette.input.value.toLowerCase();
                const filteredActions = commandPaletteActions.filter(action => 
                    action.name.toLowerCase().includes(query) || action.category.toLowerCase().includes(query)
                );
                renderCommandResults(filteredActions);
            }

            function renderCommandResults(actions) {
                dom.palette.results.innerHTML = '';
                actions.forEach(action => {
                    const li = document.createElement('li');
                    li.innerHTML = `${action.name} <small>${action.category}</small>`;
                    li.tabIndex = 0;
                    li.onclick = () => {
                        action.action();
                        closeCommandPalette();
                    };
                    li.onkeydown = (e) => {
                        if (e.key === 'Enter') li.click();
                    };
                    dom.palette.results.appendChild(li);
                });
            }

            // --- ‡•≤‡§™ ‡§∏‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§æ ---
            initializeApp();
        });
    </script>
</body>
</html>
